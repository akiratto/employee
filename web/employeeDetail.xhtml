<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>社員情報</title>
    </h:head>
    <h:body>
        <f:metadata>
            <f:viewParam name="employee_id" value="#{employee.employeeId}" />
            <f:viewParam name="mode" value="#{employee.mode}" />
            <f:viewAction action="#{employee.initQueryParameters()}" />
        </f:metadata>
        <h1>社員情報</h1>
        <h:form id="frm">
            <h:messages  />
            <h:panelGrid columns="4" >
                <h:commandButton value="戻る" action="employeeList?faces-redirect=true" immediate="true" />
                <h:commandButton value="編集" action="#{employee.beginEdit()}" rendered="#{employee.isRead()}" />
                <h:commandButton value="保存" action="#{employee.save()}" rendered="#{employee.isEdit() or employee.isNew()}" />
                <h:commandButton value="取消" action="#{employee.cancelEdit()}" rendered="#{employee.isEdit()}" immediate="true" />
            </h:panelGrid>
            <h:panelGrid columns="3">
                <h:outputLabel value="社員ID：" />
                <h:outputText value="#{employee.entity.employee_id}">
                    <f:convertNumber pattern="0000"/>
                </h:outputText>
                <h:outputText value="" />
                
                <h:outputLabel value="社員名：" for="employee_name" />
                <h:inputText id="employee_name" 
                               value="#{employee.entity.name}" 
                               disabled="#{employee.isRead()}" 
                               requiredMessage="社員名の入力は必須です。">
                    <f:validateRequired />
                </h:inputText>
                <h:message for="employee_name" />
                
                <h:outputLabel value="性別：" for="employee_gender" />
                <h:selectOneMenu id="employee_gender" value="#{employee.entity.gender}" disabled="#{employee.isRead()}">
                    <f:selectItem itemLabel="男" itemValue="M" />
                    <f:selectItem itemLabel="女" itemValue="F" />
                    <f:selectItem itemLabel="その他" itemValue="O" />
                </h:selectOneMenu>
                <h:message for="employee_gender" />
                
                <h:outputLabel value="電話番号" for="employee_phone" />
                <h:inputText id="employee_phone" 
                               value="#{employee.entity.phone}" 
                               disabled="#{employee.isRead()}"
                               requiredMessage="電話番号の入力は必須です。"
                               validatorMessage="電話番号が正しい形式ではありません。">
                    <f:validateRegex pattern="0\d{1,4}-\d{1,4}-\d{4}" disabled="#{empty employee.entity.phone}"/>
                </h:inputText>
                <h:message for="employee_phone" />
                
                <h:outputLabel value="携帯電話番号" for="employee_mobile_phone" />
                <h:inputText id="employee_mobile_phone" 
                               value="#{employee.entity.mobilePhone}" 
                               disabled="#{employee.isRead()}" 
                               validatorMessage="携帯電話番号が正しい形式ではありません。">
                    <f:validateRegex pattern="0\d{1,4}-\d{1,4}-\d{4}" />
                </h:inputText>
                <h:message for="employee_mobile_phone" />
                
                <h:outputLabel value="郵便番号" for="employee_zipcode" />
                <h:inputText id="employee_zipcode" 
                               value="#{employee.entity.zipCode}" 
                               disabled="#{employee.isRead()}"
                               validatorMessage="郵便番号が正しい形式ではありません。">
                    <f:validateRegex pattern="\d{3}-\d{4}" />
                </h:inputText>
                <h:message for="employee_zipcode" />
                
                <h:outputLabel value="住所" for="employee_address" />
                <h:inputText id="employee_address" 
                               value="#{employee.entity.address}" 
                               disabled="#{employee.isRead()}"
                               requiredMessage="住所の入力は必須です"
                               style="width:338px;">
                    <f:validateRequired />
                </h:inputText>
                <h:message for="employee_address" />
                
                <h:outputLabel value="備考" for="employee_remarks" />
                <h:inputTextarea id="employee_remarks"
                                   value="#{employee.entity.remarks}"
                                   disabled="#{employee.isRead()}"
                                   cols="40"
                                   rows="20"/>
                <h:message for="employee_remarks" />
            </h:panelGrid>
        </h:form>
    </h:body>
</html>

