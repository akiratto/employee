<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>社員情報</title>
    </h:head>
    <h:body>
        <f:metadata>
            <f:viewParam name="employee_id" value="#{employee.employeeId}" />
            <f:viewParam name="mode" value="#{employee.mode}" />
            <f:viewAction action="#{employee.initQueryParameters()}" />
        </f:metadata>
        <h1>社員情報</h1>
        <h:form id="frm">
            <h:messages globalOnly="true"  />
            <h:panelGrid columns="4">
                <h:commandButton value="戻る" action="employeeList?faces-redirect=true" immediate="true" />
                <h:commandButton value="編集" action="#{employee.beginEdit()}" rendered="#{employee.isRead()}" />
                <h:commandButton value="保存" action="#{employee.save()}" rendered="#{employee.isEdit() or employee.isNew()}" />
                <h:commandButton value="削除" action="#{employee.delete()}" 
                                               rendered="#{employee.isEdit()}" 
                                               immediate="true" 
                                               onclick="return confirm('社員コード:#{employee.entity.employeeCode}を削除してもよろしいですか？')"/>
                <h:commandButton value="取消" action="#{employee.cancelEdit()}" rendered="#{employee.isEdit()}" immediate="true" />
            </h:panelGrid>
            <h:panelGrid columns="3">
                <h:outputLabel value="社員コード：" />
                <h:outputText value="#{employee.entity.employeeCode}" />
                <h:outputText value="" />
                
                <h:outputLabel value="社員名：" for="employee_name" />
                <h:inputText id="employee_name" 
                               value="#{employee.entity.name}" 
                               disabled="#{employee.isRead()}" 
                               onkeypress="if(event.keyCode == 13) return false;">
                    <f:validateBean />
                </h:inputText>
                <h:message for="employee_name" />
                
                <h:outputLabel value="性別：" for="employee_gender" />
                <h:selectOneMenu id="employee_gender" value="#{employee.entity.gender}" disabled="#{employee.isRead()}">
                    <f:selectItem itemLabel="男" itemValue="M" />
                    <f:selectItem itemLabel="女" itemValue="F" />
                    <f:selectItem itemLabel="その他" itemValue="O" />
                </h:selectOneMenu>
                <h:message for="employee_gender" />
                
                <h:outputLabel value="生年月日" for="employee_birthday" />
                <h:inputText value="#{employee.entity.birthday}" disabled="#{employee.isRead()}">
                    <f:convertDateTime type="date" dateStyle="medium" />
                </h:inputText>
                <h:message for="employee_birthday" />
                
                <h:outputLabel value="電話番号" for="employee_phone" />
                <h:inputText id="employee_phone" 
                               value="#{employee.entity.phone}" 
                               disabled="#{employee.isRead()}"
                               onkeypress="if(event.keyCode == 13) return false;" />
                <h:message for="employee_phone" />
                
                <h:outputLabel value="携帯電話番号" for="employee_mobile_phone" />
                <h:inputText id="employee_mobile_phone" 
                               value="#{employee.entity.mobilePhone}" 
                               disabled="#{employee.isRead()}"
                               onkeypress="if(event.keyCode == 13) return false;" />
                <h:message for="employee_mobile_phone" />
                
                <h:outputLabel value="郵便番号" for="employee_zipcode" />
                <h:inputText id="employee_zipcode" 
                               value="#{employee.entity.zipCode}" 
                               disabled="#{employee.isRead()}"
                               onkeypress="if(event.keyCode == 13) return false;" />
                <h:message for="employee_zipcode" />
                
                <h:outputLabel value="住所" for="employee_address" />
                <h:inputText id="employee_address" 
                               value="#{employee.entity.address}" 
                               disabled="#{employee.isRead()}"
                               style="width:338px;" 
                               onkeypress="if(event.keyCode == 13) return false;"/>
                <h:message for="employee_address" />
                
                <h:outputLabel value="備考" for="employee_remarks" />
                <h:inputTextarea id="employee_remarks"
                                   value="#{employee.entity.remarks}"
                                   disabled="#{employee.isRead()}"
                                   cols="40"
                                   rows="20"/>
                <h:message for="employee_remarks" />
            </h:panelGrid>
        </h:form>
    </h:body>
</html>

